apiVersion: v1
kind: ConfigMap
metadata:
  name: oasys360-config
  namespace: oasys360
data:
  # Django Settings
  DJANGO_SETTINGS_MODULE: "backend.settings"
  PYTHONPATH: "/app"
  
  # Database Configuration
  DATABASE_ENGINE: "django_tenants.postgresql_backend"
  DATABASE_HOST: "postgres-service"
  DATABASE_PORT: "5432"
  DATABASE_NAME: "oasys360"
  
  # Redis Configuration
  REDIS_HOST: "redis-service"
  REDIS_PORT: "6379"
  REDIS_DB: "0"
  
  # Multi-tenant Configuration
  TENANT_MODEL: "tenants.Tenant"
  TENANT_DOMAIN_MODEL: "tenants.Domain"
  ENABLE_ROW_LEVEL_SECURITY: "true"
  
  # Security Configuration
  ALLOWED_HOSTS: "*.oasys360.com,localhost,127.0.0.1"
  CORS_ALLOWED_ORIGINS: "https://app.oasys360.com,https://admin.oasys360.com"
  
  # Cache Configuration
  CACHE_DEFAULT_TIMEOUT: "300"
  CACHE_TENANT_TIMEOUT: "3600"
  CACHE_DASHBOARD_TIMEOUT: "1800"
  CACHE_STATISTICS_TIMEOUT: "3600"
  
  # Logging Configuration
  LOG_LEVEL: "INFO"
  LOG_FORMAT: "json"
  
  # Monitoring Configuration
  ENABLE_METRICS: "true"
  METRICS_PORT: "8001"
  
  # Tenant Performance Tracking
  ENABLE_TENANT_METRICS: "true"
  TENANT_METRICS_INTERVAL: "60"
  
  # Database Migration Configuration
  MIGRATION_STRATEGY: "auto"
  SCHEMA_CREATION_STRATEGY: "auto"
  RLS_POLICY_STRATEGY: "auto"
